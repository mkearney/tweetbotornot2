<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>bulk • tweetbotornot2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="bulk">
<meta property="og:description" content="">
<meta property="og:image" content="https://tweetbotornot2.mikewk.com/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tweetbotornot2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/auth.html">auth</a>
    </li>
    <li>
      <a href="../articles/basic.html">basic</a>
    </li>
    <li>
      <a href="../articles/bulk.html">bulk</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mkearney/tweetbotornot2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>bulk</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mkearney/tweetbotornot2/blob/master/vignettes/bulk.Rmd"><code>vignettes/bulk.Rmd</code></a></small>
      <div class="hidden name"><code>bulk.Rmd</code></div>

    </div>

    
    
<p>This vignette offers some guidance (with working example) on how to collect bot estimates (and, optionally, Twitter timeline data) for a large number of users.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">## load package</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tweetbotornot2)</span></code></pre></div>
<div id="example-data" class="section level2">
<h2 class="hasAnchor">
<a href="#example-data" class="anchor"></a>Example data</h2>
<p>For example purposes, this vignette retrieves user IDs from accounts appearing on a Twitter list of 2020 Democratic presidential candidates.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">## get accounts from the twitter list: twitter.com/kearneymw/lists/dems-pres-2020</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>d20 &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/lists_members.html">lists_members</a></span>(<span class="dt">owner_user =</span> <span class="st">"kearneymw"</span>, <span class="dt">slug =</span> <span class="st">"dems-pres-2020"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">## preview data</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(d20[, <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"screen_name"</span>, <span class="st">"description"</span>)])</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">## store user IDs as 'users' vector</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>users &lt;-<span class="st"> </span>d20<span class="op">$</span>user_id</span></code></pre></div>
</div>
<div id="bulk-downloading" class="section level2">
<h2 class="hasAnchor">
<a href="#bulk-downloading" class="anchor"></a>Bulk downloading</h2>
<p>To get estimates for hundreds, thousands, or even millions of users, it is wise to use a for-loop and wait for the rate limit reset by sleeping between calls. This can be done in a number of ways, but the functions <code><a href="../reference/chunk_users.html">chunk_users()</a></code> and <code><a href="../reference/chunk_users.html">chunk_users_data()</a></code> are provided to make this easier. The code below should work for either user or bearer (rtweet) token. It also provides a safety <code>oops</code> counter and prints out rate limit and percent complete information.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">## convert users vector (user IDs or screen names) a list of 10-user chunks</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>users &lt;-<span class="st"> </span><span class="kw"><a href="../reference/chunk_users.html">chunk_users</a></span>(users, <span class="dt">n =</span> <span class="dv">10</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">## initialize output vector</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>output &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/vector.html">vector</a></span>(<span class="st">"list"</span>, <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(users))</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span>(output)) {</span>
<span id="cb3-9"><a href="#cb3-9"></a>  <span class="co">## set oops counter</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>  oop &lt;-<span class="st"> </span>0L</span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="co">## check rate limit- if &lt; 10 calls remain, sleep until reset</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>  <span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(rl &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/rate_limit.html">rate_limit</a></span>(<span class="dt">query =</span> <span class="st">"get_timelines"</span>))</span>
<span id="cb3-14"><a href="#cb3-14"></a>  <span class="cf">while</span> (rl[[<span class="st">"remaining"</span>]] <span class="op">&lt;</span><span class="st"> </span>10L) {</span>
<span id="cb3-15"><a href="#cb3-15"></a>    <span class="co">## prevent infinite loop</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>    oops &lt;-<span class="st"> </span>oops <span class="op">+</span><span class="st"> </span>1L</span>
<span id="cb3-17"><a href="#cb3-17"></a>    <span class="cf">if</span> (oops <span class="op">&gt;</span><span class="st"> </span>3L) {</span>
<span id="cb3-18"><a href="#cb3-18"></a>      <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span>(<span class="st">"rate_limit() isn't returning rate limit data"</span>, <span class="dt">call. =</span> <span class="ot">FALSE</span>)</span>
<span id="cb3-19"><a href="#cb3-19"></a>    }</span>
<span id="cb3-20"><a href="#cb3-20"></a>    <span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="st">"Sleeping for"</span>, <span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(rl[[<span class="st">"reset"</span>]], <span class="st">"mins"</span>), <span class="fl">0.5</span>), <span class="dv">1</span>), <span class="st">"minutes..."</span>)</span>
<span id="cb3-21"><a href="#cb3-21"></a>    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(rl[[<span class="st">"reset"</span>]], <span class="st">"secs"</span>), <span class="dv">30</span>))</span>
<span id="cb3-22"><a href="#cb3-22"></a>    rl &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/rate_limit.html">rate_limit</a></span>(<span class="dt">query =</span> <span class="st">"get_timelines"</span>)</span>
<span id="cb3-23"><a href="#cb3-23"></a>  }</span>
<span id="cb3-24"><a href="#cb3-24"></a>  </span>
<span id="cb3-25"><a href="#cb3-25"></a>  <span class="co">## get bot estimates</span></span>
<span id="cb3-26"><a href="#cb3-26"></a>  output[[i]] &lt;-<span class="st"> </span><span class="kw"><a href="../reference/predict_bot.html">predict_bot</a></span>(users[[i]])</span>
<span id="cb3-27"><a href="#cb3-27"></a>  </span>
<span id="cb3-28"><a href="#cb3-28"></a>  <span class="co">## print iteration update</span></span>
<span id="cb3-29"><a href="#cb3-29"></a>  <span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"%d / %d (%.f%%)</span><span class="ch">\n</span><span class="st">"</span>, i, <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(output), i <span class="op">/</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(output) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>))</span>
<span id="cb3-30"><a href="#cb3-30"></a>}</span>
<span id="cb3-31"><a href="#cb3-31"></a></span>
<span id="cb3-32"><a href="#cb3-32"></a><span class="co">## merge into single data table</span></span>
<span id="cb3-33"><a href="#cb3-33"></a>output &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="st">"rbind"</span>, output)</span>
<span id="cb3-34"><a href="#cb3-34"></a></span>
<span id="cb3-35"><a href="#cb3-35"></a><span class="co">## sort by bot probability</span></span>
<span id="cb3-36"><a href="#cb3-36"></a>output[<span class="kw"><a href="https://rdrr.io/r/base/order.html">order</a></span>(<span class="op">-</span>prob_bot), ]</span></code></pre></div>
<p>If you’d also like to keep the raw (timeline) Twitter data, the above for loop can be modified to collect the Twitter data prior to generating estimates with <code><a href="../reference/predict_bot.html">predict_bot()</a></code>. This is demonstrated in the code below.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">## convert users vector (user IDs or screen names) a list of 10-user chunks</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>users &lt;-<span class="st"> </span><span class="kw"><a href="../reference/chunk_users.html">chunk_users</a></span>(users, <span class="dt">n =</span> <span class="dv">10</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">## initialize output vectors</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>output &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/vector.html">vector</a></span>(<span class="st">"list"</span>, <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(users))</span>
<span id="cb4-6"><a href="#cb4-6"></a>usrtml &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/vector.html">vector</a></span>(<span class="st">"list"</span>, <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(users))</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span>(output)) {</span>
<span id="cb4-9"><a href="#cb4-9"></a>  <span class="co">## set oops counter</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  oop &lt;-<span class="st"> </span>0L</span>
<span id="cb4-11"><a href="#cb4-11"></a>  </span>
<span id="cb4-12"><a href="#cb4-12"></a>  <span class="co">## check rate limit- if &lt; 10 calls remain, sleep until reset</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>  <span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(rl &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/rate_limit.html">rate_limit</a></span>(<span class="dt">query =</span> <span class="st">"get_timelines"</span>))</span>
<span id="cb4-14"><a href="#cb4-14"></a>  <span class="cf">while</span> (rl[[<span class="st">"remaining"</span>]] <span class="op">&lt;</span><span class="st"> </span>10L) {</span>
<span id="cb4-15"><a href="#cb4-15"></a>    <span class="co">## prevent infinite loop</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>    oops &lt;-<span class="st"> </span>oops <span class="op">+</span><span class="st"> </span>1L</span>
<span id="cb4-17"><a href="#cb4-17"></a>    <span class="cf">if</span> (oops <span class="op">&gt;</span><span class="st"> </span>3L) {</span>
<span id="cb4-18"><a href="#cb4-18"></a>      <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span>(<span class="st">"rate_limit() isn't returning rate limit data"</span>, <span class="dt">call. =</span> <span class="ot">FALSE</span>)</span>
<span id="cb4-19"><a href="#cb4-19"></a>    }</span>
<span id="cb4-20"><a href="#cb4-20"></a>    <span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="st">"Sleeping for"</span>, <span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(rl[[<span class="st">"reset"</span>]], <span class="st">"mins"</span>), <span class="fl">0.5</span>), <span class="dv">1</span>), <span class="st">"minutes..."</span>)</span>
<span id="cb4-21"><a href="#cb4-21"></a>    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(rl[[<span class="st">"reset"</span>]], <span class="st">"secs"</span>), <span class="dv">30</span>))</span>
<span id="cb4-22"><a href="#cb4-22"></a>    rl &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/rate_limit.html">rate_limit</a></span>(<span class="dt">query =</span> <span class="st">"get_timelines"</span>)</span>
<span id="cb4-23"><a href="#cb4-23"></a>  }</span>
<span id="cb4-24"><a href="#cb4-24"></a>  </span>
<span id="cb4-25"><a href="#cb4-25"></a>  <span class="co">## get user timeline data (set check=FALSE to avoid excessive rate-limit calls)</span></span>
<span id="cb4-26"><a href="#cb4-26"></a>  usrtml[[i]] &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/get_timeline.html">get_timelines</a></span>(users[[i]], <span class="dt">n =</span> <span class="dv">200</span>, <span class="dt">check =</span> <span class="ot">FALSE</span>)</span>
<span id="cb4-27"><a href="#cb4-27"></a>  </span>
<span id="cb4-28"><a href="#cb4-28"></a>  <span class="co">## use the timeline data to get bot estimates</span></span>
<span id="cb4-29"><a href="#cb4-29"></a>  output[[i]] &lt;-<span class="st"> </span><span class="kw"><a href="../reference/predict_bot.html">predict_bot</a></span>(users[[i]])</span>
<span id="cb4-30"><a href="#cb4-30"></a>  </span>
<span id="cb4-31"><a href="#cb4-31"></a>  <span class="co">## print iteration update</span></span>
<span id="cb4-32"><a href="#cb4-32"></a>  <span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span>(<span class="st">"%d / %d (%.f%%)</span><span class="ch">\n</span><span class="st">"</span>, i, <span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(output), i <span class="op">/</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(output) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>))</span>
<span id="cb4-33"><a href="#cb4-33"></a>}</span>
<span id="cb4-34"><a href="#cb4-34"></a></span>
<span id="cb4-35"><a href="#cb4-35"></a><span class="co">## merge both data lists into single data tables</span></span>
<span id="cb4-36"><a href="#cb4-36"></a>output &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="st">"rbind"</span>, output)</span>
<span id="cb4-37"><a href="#cb4-37"></a>usrtml &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span>(<span class="st">"rbind"</span>, usrtml)</span>
<span id="cb4-38"><a href="#cb4-38"></a></span>
<span id="cb4-39"><a href="#cb4-39"></a><span class="co">## sort by bot probability</span></span>
<span id="cb4-40"><a href="#cb4-40"></a>output[<span class="kw"><a href="https://rdrr.io/r/base/order.html">order</a></span>(<span class="op">-</span>prob_bot), ]</span>
<span id="cb4-41"><a href="#cb4-41"></a></span>
<span id="cb4-42"><a href="#cb4-42"></a><span class="co">## preview timeline data</span></span>
<span id="cb4-43"><a href="#cb4-43"></a>usrtml[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, ]</span></code></pre></div>
</div>
<div id="bulk-processing" class="section level2">
<h2 class="hasAnchor">
<a href="#bulk-processing" class="anchor"></a>Bulk processing</h2>
<p>If you’ve already collected lots of user timeline data, the processing of timeline data into numeric feature data can still be computationally intensive. To deal with this, the feature engineering function, <code><a href="../reference/preprocess_bot.html">preprocess_bot()</a></code>, includes a <code>batch_size</code> argument, which allows you to specify how many users should be processed at a time. You can adjust the size to optimize to your machine.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="../reference/preprocess_bot.html">preprocess_bot</a></span>(usrtml, <span class="dt">batch_size =</span> <span class="dv">200</span>)</span></code></pre></div>
<p><sup>1</sup> Unless you’ve already collected user timeline data, <strong><a href="tweetbotornot2.mikewk.com"><code>{tweetbotornot2}</code></a></strong> relies on <a href="https://rtweet.info"><code>{rtweet}</code></a> to pull data from <a href="https://developer.twitter.com/en/docs">Twitter’s REST API</a>.</p>
<p><sup>2</sup> The first time you make a request [from your computer] to Twitter’s API’s, a browser should pop-up, asking you to authorize the app. After that, the authorization token is stored and remembered behind the scenes (you will only have to reauthorize the app if your Twitter settings or token credentials get reset or if you use a different machine).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#example-data">Example data</a></li>
      <li><a href="#bulk-downloading">Bulk downloading</a></li>
      <li><a href="#bulk-processing">Bulk processing</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://mikewk.com">Michael W. Kearney</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
